<div class="dossier-container">
  <h2>Dossier de Suivi</h2>

  <form [formGroup]="dossierForm" (ngSubmit)="onSubmit()">

    <label for="id">ID*</label>
    <input type="number" id="id" formControlName="id">

    <label for="pathologie">Pathologie*</label>
    <input type="text" id="pathologie" formControlName="pathologie">

    <label for="dateDebut">Date de début*</label>
    <input type="date" id="dateDebut" formControlName="dateDebut">

    <label for="dateFin">Date de fin</label>
    <input type="date" id="dateFin" formControlName="dateFin">

    <label for="etat">État*</label>
    <select id="etat" formControlName="etat">
      <option value="" disabled selected>Sélectionner un état</option>
      <option value="En cours">En cours</option>
      <option value="Terminé">Terminé</option>
      <option value="En pause">En pause</option>
    </select>

    <h3>Prescriptions</h3>
    <div class="list">
      @for (doc of prescriptions.controls; let i = $index ; track i){
           <div class="doc-item">
        <!---<input type="text" [formControl]="doc.get('name')" placeholder="Nom du document">
        <input type="text" [formControl]="doc.get('url')" placeholder="URL du document">-->
        <button type="button" (click)="removePrescription(i)">Supprimer</button>
      </div>
      }
    </div>
    <button type="button" class="add" (click)="addPrescription()">+ Ajouter une prescription</button>

    <h3>Documents Médicaux</h3>
    <div class="list">
      @for (doc of documentsMedicaux.controls; let i = $index ; track i){
        <div class="doc-item">
          <!--<input type="text" [formControl]="doc.get('name')" placeholder="Nom du document">
          <input type="text" [formControl]="doc.get('url')" placeholder="URL du document">-->
          <button type="button" (click)="removeMedicalDoc(i)">Supprimer</button>
        </div>
      }
    </div>
    <button type="button" class="add" (click)="addMedicalDoc()">+ Ajouter un document</button>


    <button class="submit-btn" type="submit">Enregistrer</button>
  </form>
</div>
